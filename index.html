<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alperen & UlaÅŸ: Ortak Mutfak Beslenme ProgramÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f5f5f4; color: #1c1917; }
        .chart-container { position: relative; width: 100%; max-width: 300px; height: 300px; margin: 0 auto; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Stone/Zinc) with Blue (Alperen) and Green (UlaÅŸ) accents for distinction. -->
    <!-- Application Structure Plan: 
         1. Dashboard: Immediate visual comparison of macro targets to understand the 'Why' behind the plan.
         2. Principles: Critical cooking rules (No oil in pot, etc.) pinned for easy access.
         3. Interactive Weekly Plan: A day-selector tab system that updates a detailed meal view. 
            - "Cook Mode" focus: Each meal card clearly separates "Shared Prep" from "Individual Plates" to facilitate the workflow.
         4. Smart Shopping List: Categorized toggle view to see what to buy together vs. individually.
         RATIONALE: The primary friction point is cooking together but eating differently. The structure isolates the "Shared" task first, then diverges for specific portions.
    -->
    <!-- Visualization & Content Choices:
         1. Macro Donuts (Chart.js): Visualizes the huge Carb discrepancy (Alperen) vs Fat balance (UlaÅŸ). Goal: Inform & Compare.
         2. Dynamic Meal Cards (JS/DOM): Updates content based on Day selection. Uses grid layout to show Alperen/UlaÅŸ side-by-side. Goal: Organize & Inform.
         3. Portion Visuals (CSS Bars): Visual representation of rice/chicken ratios in the meal cards to prevent weighing errors (e.g., Alperen gets 2.5x rice). Goal: Compare.
         4. Interactive Shopping List (JS): Checkbox functionality for tracking. Goal: Organize.
         5. CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
</head>
<body class="bg-stone-100 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50 border-b border-stone-200">
        <div class="max-w-4xl mx-auto px-4 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-xl font-bold text-stone-800 tracking-tight">FitMates ğŸ³</h1>
                <p class="text-xs text-stone-500">Ortak Mutfak, FarklÄ± Hedefler</p>
            </div>
            <nav class="space-x-4 text-sm font-medium">
                <button onclick="scrollToSection('dashboard')" class="text-stone-600 hover:text-stone-900 transition">Ã–zet</button>
                <button onclick="scrollToSection('planner')" class="text-stone-600 hover:text-stone-900 transition">Plan</button>
                <button onclick="scrollToSection('shopping')" class="text-stone-600 hover:text-stone-900 transition">Market</button>
            </nav>
        </div>
    </header>

    <main class="flex-grow max-w-4xl mx-auto w-full px-4 py-6 space-y-8">

        <!-- Intro Section -->
        <section id="dashboard" class="space-y-4">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                <h2 class="text-2xl font-bold text-stone-800 mb-2">HoÅŸgeldiniz</h2>
                <p class="text-stone-600 leading-relaxed">
                    Bu uygulama, <strong>Alperen</strong> ve <strong>UlaÅŸ</strong> iÃ§in Ã¶zel olarak hazÄ±rlanmÄ±ÅŸtÄ±r. 
                    AmacÄ±mÄ±z, mutfakta tek bir tencere kullanarak iki farklÄ± sporcu beslenme hedefini yÃ¶netmektir. 
                    AÅŸaÄŸÄ±daki grafikler, neden tabaklarÄ±nÄ±zÄ±n farklÄ± gÃ¶rÃ¼neceÄŸini Ã¶zetlemektedir.
                </p>
            </div>

            <!-- Macro Comparison Charts -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Alperen Card -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-blue-100">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-bold text-stone-800">Alperen</h3>
                        <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded">YÃ¼ksek Karb / DÃ¼ÅŸÃ¼k YaÄŸ</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="alperenChart"></canvas>
                    </div>
                    <div class="mt-4 text-center grid grid-cols-3 divide-x divide-stone-100 text-sm">
                        <div>
                            <span class="block font-bold text-stone-800">136g</span>
                            <span class="text-stone-500 text-xs">Protein</span>
                        </div>
                        <div>
                            <span class="block font-bold text-stone-800">34.2g</span>
                            <span class="text-stone-500 text-xs">YaÄŸ</span>
                        </div>
                        <div>
                            <span class="block font-bold text-stone-800">593g</span>
                            <span class="text-stone-500 text-xs">Karb</span>
                        </div>
                    </div>
                </div>

                <!-- UlaÅŸ Card -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-emerald-100">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-bold text-stone-800">UlaÅŸ</h3>
                        <span class="bg-emerald-100 text-emerald-800 text-xs font-bold px-2 py-1 rounded">Dengeli / Orta YaÄŸ</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="ulasChart"></canvas>
                    </div>
                    <div class="mt-4 text-center grid grid-cols-3 divide-x divide-stone-100 text-sm">
                        <div>
                            <span class="block font-bold text-stone-800">150g</span>
                            <span class="text-stone-500 text-xs">Protein</span>
                        </div>
                        <div>
                            <span class="block font-bold text-stone-800">50g</span>
                            <span class="text-stone-500 text-xs">YaÄŸ</span>
                        </div>
                        <div>
                            <span class="block font-bold text-stone-800">252g</span>
                            <span class="text-stone-500 text-xs">Karb</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Critical Rules -->
        <section class="bg-orange-50 border-l-4 border-orange-400 p-4 rounded-r-lg">
            <h3 class="font-bold text-orange-800 mb-2">âš ï¸ Mutfak AnayasasÄ±</h3>
            <ul class="list-disc list-inside text-sm text-orange-900 space-y-1">
                <li><strong>YaÄŸ Yok:</strong> Tencereye asla yaÄŸ eklemeyin. UlaÅŸ yaÄŸÄ±nÄ± tabaÄŸÄ±na Ã§iÄŸ dÃ¶kecek.</li>
                <li><strong>Ã‡iÄŸ TartÄ±n:</strong> Gramajlar piÅŸmemiÅŸ aÄŸÄ±rlÄ±ktÄ±r. PiÅŸince aÄŸÄ±rlÄ±k deÄŸiÅŸir, orantÄ±lÄ± bÃ¶lÃ¼ÅŸÃ¼n.</li>
                <li><strong>Ekipman:</strong> FÄ±rÄ±n/Mikrodalga yok. Her ÅŸey ocakta (haÅŸlama/tava).</li>
            </ul>
        </section>

        <!-- Weekly Planner Section -->
        <section id="planner" class="space-y-4">
            <div class="flex items-center justify-between">
                <h2 class="text-2xl font-bold text-stone-800">GÃ¼nlÃ¼k Plan</h2>
                <span class="text-sm text-stone-500 bg-stone-100 px-3 py-1 rounded-full border border-stone-200" id="current-day-label">GÃ¼n SeÃ§iniz</span>
            </div>

            <!-- Day Selector Tabs -->
            <div class="flex space-x-2 overflow-x-auto hide-scrollbar pb-2" id="day-tabs">
                <!-- Injected via JS -->
            </div>

            <!-- Preparation Summary -->
            <div id="prep-summary" class="bg-stone-800 text-white p-4 rounded-xl shadow-lg transition-all duration-300">
                <h4 class="text-sm uppercase tracking-wider text-stone-400 font-bold mb-1">GÃ¼nÃ¼n HazÄ±rlÄ±ÄŸÄ±</h4>
                <p class="text-lg font-medium" id="prep-text">...</p>
            </div>

            <!-- Meals Container -->
            <div id="meals-container" class="space-y-6">
                <!-- Meal cards injected via JS -->
            </div>
        </section>

        <!-- Shopping List Section -->
        <section id="shopping" class="space-y-4 pt-8 border-t border-stone-200">
            <h2 class="text-2xl font-bold text-stone-800">AkÄ±llÄ± AlÄ±ÅŸveriÅŸ Listesi</h2>
            <p class="text-stone-600 mb-4">HaftalÄ±k tahmini ihtiyaÃ§ listesi. Kategorilere gÃ¶re filtreleyebilirsiniz.</p>
            
            <div class="flex space-x-2 mb-4">
                <button onclick="filterShopping('all')" class="shopping-filter-btn active px-4 py-2 rounded-lg text-sm font-medium bg-stone-800 text-white transition">TÃ¼mÃ¼</button>
                <button onclick="filterShopping('common')" class="shopping-filter-btn px-4 py-2 rounded-lg text-sm font-medium bg-white text-stone-600 border border-stone-200 transition">Ortak</button>
                <button onclick="filterShopping('alperen')" class="shopping-filter-btn px-4 py-2 rounded-lg text-sm font-medium bg-white text-stone-600 border border-stone-200 transition">Alperen Ã–zel</button>
                <button onclick="filterShopping('ulas')" class="shopping-filter-btn px-4 py-2 rounded-lg text-sm font-medium bg-white text-stone-600 border border-stone-200 transition">UlaÅŸ Ã–zel</button>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3" id="shopping-list-container">
                <!-- Shopping items injected via JS -->
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-stone-200 mt-12 py-8 text-center text-stone-400 text-sm">
        <p>&copy; 2024 FitMates - TÄ±bbi Beslenme Prensipleri ile HazÄ±rlanmÄ±ÅŸtÄ±r.</p>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data: 7-Day Meal Plan ---
        const schedule = [
            {
                day: "Pazartesi",
                id: "d1",
                prep: "BÃ¼yÃ¼k tencere pirinÃ§ lapasÄ± & Tavada yaÄŸsÄ±z tavuk gÃ¶ÄŸsÃ¼.",
                meals: [
                    {
                        name: "KahvaltÄ±",
                        common: "Yulaf Ezmesi, Yumurta, Muz",
                        alperen: { detail: "150g Yulaf (Lapa) + 6 Yumurta BeyazÄ± + 2 Muz + 1yk Bal", note: "SarÄ±sÄ±z ye, bal ekle." },
                        ulas: { detail: "80g Yulaf (Lapa) + 3 Tam Yumurta + 1 Muz", note: "SarÄ±larÄ± ye." }
                    },
                    {
                        name: "Ã–ÄŸle",
                        common: "Tavuk GÃ¶ÄŸsÃ¼, PirinÃ§, Brokoli",
                        alperen: { detail: "150g Tavuk + 250g PirinÃ§ + Brokoli + 1 Bardak ÃœzÃ¼m Suyu", note: "ÃœzÃ¼m suyu iÃ§." },
                        ulas: { detail: "200g Tavuk + 100g PirinÃ§ + Brokoli + 1tk ZeytinyaÄŸÄ±", note: "ZeytinyaÄŸÄ± ekle, tavuÄŸu daha Ã§ok al." }
                    },
                    {
                        name: "Ara Ã–ÄŸÃ¼n",
                        common: "Ekmek/Galeta, Lor Peyniri, Elma",
                        alperen: { detail: "4 Dilim Beyaz Ekmek + 50g Lor + 1 Elma + 1yk ReÃ§el", note: "ReÃ§elli ekmek yap." },
                        ulas: { detail: "2 Dilim Tam BuÄŸday Ekmek + 50g Lor + 1 Elma", note: "Sade ye." }
                    },
                    {
                        name: "AkÅŸam",
                        common: "Tavuk GÃ¶ÄŸsÃ¼, PirinÃ§, Mevsim Salata",
                        alperen: { detail: "150g Tavuk + 250g PirinÃ§ + YaÄŸsÄ±z Salata", note: "PirinÃ§ aÄŸÄ±rlÄ±klÄ±." },
                        ulas: { detail: "200g Tavuk + 80g PirinÃ§ + Salata + 1tk ZeytinyaÄŸÄ±", note: "Salataya yaÄŸ dÃ¶k." }
                    },
                    {
                        name: "Gece",
                        common: "Lor Peyniri / Karb Takviyesi",
                        alperen: { detail: "100g YaÄŸsÄ±z Lor + 2 Muz", note: "" },
                        ulas: { detail: "100g YaÄŸsÄ±z Lor", note: "" }
                    }
                ]
            },
            {
                day: "SalÄ±",
                id: "d2",
                prep: "Makarna gÃ¼nÃ¼. Tavuklar tavada sotelenecek.",
                meals: [
                    { name: "KahvaltÄ±", common: "Yulaf, Yumurta, Kuru ÃœzÃ¼m", alperen: { detail: "150g Yulaf + 6 Yumurta BeyazÄ± + 1 AvuÃ§ ÃœzÃ¼m + Bal", note: "" }, ulas: { detail: "80g Yulaf + 3 Tam Yumurta + YarÄ±m AvuÃ§ ÃœzÃ¼m", note: "" } },
                    { name: "Ã–ÄŸle", common: "Hindi GÃ¶ÄŸsÃ¼, Makarna, Kabak", alperen: { detail: "150g Hindi + 250g Makarna + Kabak + 2 Dilim Ekmek", note: "EkmeÄŸi unutma." }, ulas: { detail: "200g Hindi + 100g Makarna + Kabak + 1tk ZeytinyaÄŸÄ±", note: "YaÄŸ ekle." } },
                    { name: "Ara Ã–ÄŸÃ¼n", common: "PirinÃ§ PatlaÄŸÄ±, Muz", alperen: { detail: "1 Paket Patlak + 2 Muz + Bal", note: "" }, ulas: { detail: "YarÄ±m Paket Patlak + 1 Muz", note: "" } },
                    { name: "AkÅŸam", common: "Hindi GÃ¶ÄŸsÃ¼, Makarna, Salata", alperen: { detail: "150g Hindi + 250g Makarna + YaÄŸsÄ±z Salata + Meyve Suyu", note: "" }, ulas: { detail: "200g Hindi + 80g Makarna + Salata + 1tk ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Gece", common: "Lor Peyniri, KuruyemiÅŸ/Meyve", alperen: { detail: "100g Lor + 1 Elma", note: "" }, ulas: { detail: "100g Lor + 5 Ã‡iÄŸ Badem", note: "Badem ye." } }
                ]
            },
            {
                day: "Ã‡arÅŸamba",
                id: "d3",
                prep: "Bulgur pilavÄ± ve Tavuk HaÅŸlama (Sebzeli).",
                meals: [
                    { name: "KahvaltÄ±", common: "Yumurta, Ekmek, SÃ¶ÄŸÃ¼ÅŸ", alperen: { detail: "7 Yumurta BeyazÄ± + 1 BÃ¼tÃ¼n Ekmek + ReÃ§el", note: "Koca ekmek senin." }, ulas: { detail: "3 Tam Yumurta + 3 Dilim Ekmek", note: "" } },
                    { name: "Ã–ÄŸle", common: "Tavuk, Bulgur, Biber", alperen: { detail: "150g Tavuk + 250g Bulgur + Biber", note: "" }, ulas: { detail: "200g Tavuk + 100g Bulgur + Biber + 1tk ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Ara Ã–ÄŸÃ¼n", common: "Meyve TabaÄŸÄ±", alperen: { detail: "2 Muz + 1 Elma + 1 Portakal", note: "Meyve ÅŸÃ¶leni." }, ulas: { detail: "1 Muz + 1 Elma", note: "" } },
                    { name: "AkÅŸam", common: "Tavuk, Bulgur, YoÄŸurt", alperen: { detail: "150g Tavuk + 250g Bulgur + YaÄŸsÄ±z YoÄŸurt", note: "" }, ulas: { detail: "200g Tavuk + 80g Bulgur + YarÄ±m YaÄŸlÄ± YoÄŸurt", note: "" } },
                    { name: "Gece", common: "SÃ¼t", alperen: { detail: "1 Bardak YaÄŸsÄ±z SÃ¼t + MÄ±sÄ±r GevreÄŸi", note: "Gevrek ekle." }, ulas: { detail: "1 Bardak YarÄ±m YaÄŸlÄ± SÃ¼t", note: "" } }
                ]
            },
            {
                day: "PerÅŸembe",
                id: "d4",
                prep: "Patates HaÅŸlama gÃ¼nÃ¼.",
                meals: [
                    { name: "KahvaltÄ±", common: "Yulaf (Kakaolu), Yumurta", alperen: { detail: "150g Yulaf + 6 Yumurta BeyazÄ± + Bal", note: "" }, ulas: { detail: "80g Yulaf + 3 Tam Yumurta", note: "" } },
                    { name: "Ã–ÄŸle", common: "Hindi, Patates HaÅŸlama", alperen: { detail: "150g Hindi + 800g Patates + YeÅŸillik", note: "800g Patates!" }, ulas: { detail: "200g Hindi + 300g Patates + 1tk ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Ara Ã–ÄŸÃ¼n", common: "Ekmek ArasÄ± Lor", alperen: { detail: "YarÄ±m Ekmek + Lor + Domates", note: "" }, ulas: { detail: "1 Dilim Ekmek + Lor + 2 Ceviz", note: "Ceviz ekle." } },
                    { name: "AkÅŸam", common: "Hindi, PirinÃ§, Salata", alperen: { detail: "150g Hindi + 250g PirinÃ§ + YaÄŸsÄ±z Salata + Meyve Suyu", note: "" }, ulas: { detail: "200g Hindi + 80g PirinÃ§ + Salata + 1tk ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Gece", common: "Meyve", alperen: { detail: "2 Muz + Bal", note: "" }, ulas: { detail: "1 Elma", note: "" } }
                ]
            },
            {
                day: "Cuma",
                id: "d5",
                prep: "Tavuk Sote (YaÄŸsÄ±z) ve Makarna.",
                meals: [
                    { name: "KahvaltÄ±", common: "Yumurta, Ekmek", alperen: { detail: "7 Yumurta BeyazÄ± + 5 Dilim Ekmek + ReÃ§el", note: "Zeytin yok." }, ulas: { detail: "3 Tam Yumurta + 2 Dilim Ekmek + 5 Zeytin", note: "Zeytin var." } },
                    { name: "Ã–ÄŸle", common: "Tavuk Sote, Makarna", alperen: { detail: "150g Tavuk + 250g Makarna + Domates", note: "" }, ulas: { detail: "200g Tavuk + 100g Makarna + 1tk ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Ara Ã–ÄŸÃ¼n", common: "Yulaf / Meyve", alperen: { detail: "100g Yulaf + Bal + Muz", note: "" }, ulas: { detail: "1 Elma", note: "" } },
                    { name: "AkÅŸam", common: "Tavuk Sote, Makarna, Ayran", alperen: { detail: "150g Tavuk + 250g Makarna + YaÄŸsÄ±z Ayran", note: "" }, ulas: { detail: "200g Tavuk + 80g Makarna + Ayran", note: "" } },
                    { name: "Gece", common: "Lor Peyniri", alperen: { detail: "100g Lor + ReÃ§el", note: "" }, ulas: { detail: "100g Lor", note: "" } }
                ]
            },
            {
                day: "Cumartesi",
                id: "d6",
                prep: "PirinÃ§ PilavÄ± ve Hindi.",
                meals: [
                    { name: "KahvaltÄ±", common: "Yulaf Pankeki (YaÄŸsÄ±z)", alperen: { detail: "150g Yulaf Unu + 5 Yumurta BeyazÄ± + Bal", note: "" }, ulas: { detail: "80g Yulaf Unu + 2 Tam Yumurta", note: "" } },
                    { name: "Ã–ÄŸle", common: "Hindi, PirinÃ§, Bezelye", alperen: { detail: "150g Hindi + 250g PirinÃ§ + 4yk Bezelye", note: "" }, ulas: { detail: "200g Hindi + 100g PirinÃ§ + 2yk Bezelye + ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Ara Ã–ÄŸÃ¼n", common: "SandviÃ§ (FÃ¼me)", alperen: { detail: "Tam Ekmek ArasÄ± Tavuk FÃ¼me", note: "BÃ¼tÃ¼n ekmek." }, ulas: { detail: "1 Dilim Ekmek ÃœstÃ¼ Tavuk FÃ¼me", note: "" } },
                    { name: "AkÅŸam", common: "Hindi, PirinÃ§, Salata", alperen: { detail: "150g Hindi + 250g PirinÃ§ + Salata + Meyve Suyu", note: "" }, ulas: { detail: "200g Hindi + 80g PirinÃ§ + Salata + ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Gece", common: "Meyve", alperen: { detail: "2 Portakal", note: "" }, ulas: { detail: "1 Portakal", note: "" } }
                ]
            },
            {
                day: "Pazar",
                id: "d7",
                prep: "Dolap temizliÄŸi. Genelde PirinÃ§ + Tavuk.",
                meals: [
                    { name: "KahvaltÄ±", common: "Menemen (YaÄŸsÄ±z), Ekmek", alperen: { detail: "7 Yumurta BeyazÄ± + 1 BÃ¼tÃ¼n Ekmek", note: "YaÄŸsÄ±z menemen." }, ulas: { detail: "3 Tam Yumurta + 2 Dilim Ekmek + 1tk YaÄŸ", note: "YaÄŸÄ±nÄ± tabaÄŸÄ±na ekle." } },
                    { name: "Ã–ÄŸle", common: "Tavuk, PirinÃ§, HavuÃ§", alperen: { detail: "150g Tavuk + 250g PirinÃ§ + HavuÃ§", note: "" }, ulas: { detail: "200g Tavuk + 100g PirinÃ§ + HavuÃ§ + ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Ara Ã–ÄŸÃ¼n", common: "Yulaf / KuruyemiÅŸ", alperen: { detail: "100g Yulaf + Bal + Kuru Meyve", note: "" }, ulas: { detail: "1 AvuÃ§ Ã‡iÄŸ Badem + 1 Meyve", note: "" } },
                    { name: "AkÅŸam", common: "Tavuk, PirinÃ§, Salata", alperen: { detail: "150g Tavuk + 250g PirinÃ§ + Salata", note: "" }, ulas: { detail: "200g Tavuk + 80g PirinÃ§ + Salata + ZeytinyaÄŸÄ±", note: "" } },
                    { name: "Gece", common: "Lor Peyniri", alperen: { detail: "100g Lor + ReÃ§el", note: "" }, ulas: { detail: "100g Lor", note: "" } }
                ]
            }
        ];

        // --- Data: Shopping List ---
        const shoppingList = [
            { item: "Tavuk GÃ¶ÄŸsÃ¼ (4.5 kg)", category: "common", type: "protein" },
            { item: "Hindi GÃ¶ÄŸsÃ¼ (2 kg)", category: "common", type: "protein" },
            { item: "PirinÃ§ (4 kg)", category: "common", type: "carb" },
            { item: "Makarna (2 Paket)", category: "common", type: "carb" },
            { item: "Yulaf Ezmesi (2 kg)", category: "common", type: "carb" },
            { item: "Yumurta (70-80 adet)", category: "common", type: "protein" },
            { item: "Lor Peyniri (1.5 kg)", category: "common", type: "protein" },
            { item: "Muz, Elma, YeÅŸillik", category: "common", type: "fresh" },
            { item: "Bal / ReÃ§el (Bolca)", category: "alperen", type: "sugar" },
            { item: "Meyve Suyu (%100 Elma/ÃœzÃ¼m)", category: "alperen", type: "sugar" },
            { item: "Beyaz Ekmek (GÃ¼nlÃ¼k)", category: "alperen", type: "carb" },
            { item: "ZeytinyaÄŸÄ± (SÄ±zma)", category: "ulas", type: "fat" },
            { item: "KuruyemiÅŸ (Ceviz/Badem)", category: "ulas", type: "fat" }
        ];

        // --- State Management ---
        let currentDayIndex = 0;
        let shoppingFilter = 'all';

        // --- DOM Elements ---
        const tabsContainer = document.getElementById('day-tabs');
        const mealsContainer = document.getElementById('meals-container');
        const prepText = document.getElementById('prep-text');
        const currentDayLabel = document.getElementById('current-day-label');
        const shoppingListContainer = document.getElementById('shopping-list-container');

        // --- Chart.js Initialization ---
        function initCharts() {
            // Alperen Chart
            new Chart(document.getElementById('alperenChart').getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['Protein (136g)', 'YaÄŸ (34g)', 'Karb (593g)'],
                    datasets: [{
                        data: [136, 34, 593],
                        backgroundColor: ['#3b82f6', '#facc15', '#60a5fa'], // Blue, Yellow, Light Blue
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    cutout: '70%'
                }
            });

            // UlaÅŸ Chart
            new Chart(document.getElementById('ulasChart').getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['Protein (150g)', 'YaÄŸ (50g)', 'Karb (252g)'],
                    datasets: [{
                        data: [150, 50, 252],
                        backgroundColor: ['#10b981', '#f59e0b', '#34d399'], // Green, Orange, Light Green
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    cutout: '70%'
                }
            });
        }

        // --- Render Functions ---
        
        function renderDayTabs() {
            tabsContainer.innerHTML = '';
            schedule.forEach((day, index) => {
                const btn = document.createElement('button');
                const isSelected = index === currentDayIndex;
                btn.className = `flex-shrink-0 px-5 py-2 rounded-full text-sm font-semibold transition-all duration-200 
                    ${isSelected ? 'bg-stone-800 text-white shadow-md' : 'bg-white text-stone-500 border border-stone-200 hover:bg-stone-50'}`;
                btn.innerText = day.day;
                btn.onclick = () => {
                    currentDayIndex = index;
                    renderDayTabs();
                    renderMeals();
                };
                tabsContainer.appendChild(btn);
            });
            currentDayLabel.innerText = schedule[currentDayIndex].day;
        }

        function renderMeals() {
            const dayData = schedule[currentDayIndex];
            
            // Animation reset
            prepText.style.opacity = '0';
            mealsContainer.style.opacity = '0';

            setTimeout(() => {
                prepText.innerText = dayData.prep;
                prepText.style.opacity = '1';
                
                mealsContainer.innerHTML = '';
                
                dayData.meals.forEach((meal, idx) => {
                    const card = document.createElement('div');
                    card.className = "bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden";
                    
                    card.innerHTML = `
                        <!-- Header: Meal Name & Common Ingredients -->
                        <div class="bg-stone-50 p-4 border-b border-stone-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2">
                            <div>
                                <span class="text-xs font-bold text-stone-400 uppercase tracking-wider">${meal.name}</span>
                                <h3 class="font-bold text-stone-800">${meal.common}</h3>
                            </div>
                            <span class="text-xs bg-stone-200 text-stone-600 px-2 py-1 rounded">Ortak Tencere ğŸ²</span>
                        </div>

                        <!-- Split View -->
                        <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-stone-100">
                            <!-- Alperen Side -->
                            <div class="p-4 relative hover:bg-blue-50/30 transition">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="font-bold text-blue-700 text-sm">Alperen</span>
                                    ${meal.alperen.note ? `<span class="text-[10px] bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded font-medium">${meal.alperen.note}</span>` : ''}
                                </div>
                                <p class="text-stone-700 text-sm leading-snug">${meal.alperen.detail}</p>
                                <!-- Visual Indicator (e.g. for Rice) -->
                                ${meal.name.includes("Ã–ÄŸle") || meal.name.includes("AkÅŸam") ? 
                                    `<div class="mt-3 w-full bg-stone-100 h-1.5 rounded-full overflow-hidden">
                                        <div class="bg-blue-400 h-full w-[80%]"></div>
                                     </div><p class="text-[10px] text-stone-400 mt-1 text-right">Karb YÃ¼kÃ¼</p>` : ''}
                            </div>

                            <!-- UlaÅŸ Side -->
                            <div class="p-4 relative hover:bg-emerald-50/30 transition">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="font-bold text-emerald-700 text-sm">UlaÅŸ</span>
                                    ${meal.ulas.note ? `<span class="text-[10px] bg-emerald-100 text-emerald-800 px-1.5 py-0.5 rounded font-medium">${meal.ulas.note}</span>` : ''}
                                </div>
                                <p class="text-stone-700 text-sm leading-snug">${meal.ulas.detail}</p>
                                <!-- Visual Indicator -->
                                ${meal.name.includes("Ã–ÄŸle") || meal.name.includes("AkÅŸam") ? 
                                    `<div class="mt-3 w-full bg-stone-100 h-1.5 rounded-full overflow-hidden">
                                        <div class="bg-emerald-400 h-full w-[40%]"></div>
                                     </div><p class="text-[10px] text-stone-400 mt-1 text-right">Karb YÃ¼kÃ¼</p>` : ''}
                            </div>
                        </div>
                    `;
                    mealsContainer.appendChild(card);
                });
                mealsContainer.style.opacity = '1';
            }, 150);
        }

        function renderShoppingList() {
            shoppingListContainer.innerHTML = '';
            
            const filtered = shoppingList.filter(item => {
                if (shoppingFilter === 'all') return true;
                return item.category === shoppingFilter;
            });

            if (filtered.length === 0) {
                shoppingListContainer.innerHTML = '<p class="text-stone-400 col-span-2 text-center py-4">Bu kategoride Ã¼rÃ¼n yok.</p>';
                return;
            }

            filtered.forEach(item => {
                const div = document.createElement('div');
                let borderColor = 'border-stone-200';
                let badge = '';

                if (item.category === 'common') badge = '<span class="w-2 h-2 rounded-full bg-stone-400 mr-2"></span>';
                if (item.category === 'alperen') { borderColor = 'border-blue-200'; badge = '<span class="w-2 h-2 rounded-full bg-blue-400 mr-2"></span>'; }
                if (item.category === 'ulas') { borderColor = 'border-emerald-200'; badge = '<span class="w-2 h-2 rounded-full bg-emerald-400 mr-2"></span>'; }

                div.className = `flex items-center p-3 bg-white rounded-lg border ${borderColor} hover:shadow-sm transition cursor-pointer select-none`;
                div.onclick = function() {
                    this.classList.toggle('opacity-50');
                    this.classList.toggle('line-through');
                    const checkbox = this.querySelector('input');
                    checkbox.checked = !checkbox.checked;
                };

                div.innerHTML = `
                    <div class="flex items-center flex-grow">
                        ${badge}
                        <span class="text-sm font-medium text-stone-700">${item.item}</span>
                    </div>
                    <input type="checkbox" class="h-4 w-4 text-stone-600 rounded border-stone-300 focus:ring-stone-500 pointer-events-none">
                `;
                shoppingListContainer.appendChild(div);
            });
        }

        // --- Interaction Handlers ---
        function filterShopping(category) {
            shoppingFilter = category;
            
            // Update UI buttons
            document.querySelectorAll('.shopping-filter-btn').forEach(btn => {
                btn.classList.remove('bg-stone-800', 'text-white');
                btn.classList.add('bg-white', 'text-stone-600');
                if (btn.innerText.toLowerCase().includes(category === 'all' ? 'tÃ¼mÃ¼' : 
                   category === 'common' ? 'ortak' : 
                   category === 'alperen' ? 'alperen' : 'ulaÅŸ')) {
                    btn.classList.remove('bg-white', 'text-stone-600');
                    btn.classList.add('bg-stone-800', 'text-white');
                }
            });

            renderShoppingList();
        }

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // --- Init ---
        window.addEventListener('load', () => {
            initCharts();
            renderDayTabs();
            renderMeals();
            renderShoppingList();
        });

    </script>
</body>
</html>